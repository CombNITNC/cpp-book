# 型変換

ﾍｼﾝ!

---

本来、違う型どうしでの計算はできないけれど、型を変換するとできるようになる。


# 暗黙的型変換

まず、違う型どうしを計算させようとしても、コンパイルできちゃう。このとき、より表現の幅が広い型へと変換される。

例えば、`double` と `int` で演算するときは、`int` の方が `double` へと変換される。

```cpp
500 * 1.08; // => 500. * 1.08 => 540.
```

更に、変数に代入するときはその変数の型へと変換される。

```cpp
int price = 500;
price = price * 1.08; // price * 1.08 は double だが、再び int になる
price *= 1.08; // 上と同じ
```

# static_cast

暗黙的ではなく、明示的な型変換もある。それがこれ。

```cpp
static_cast < 型名 > ( 式 )
```

たまに使うくらいだけど、実際に使うとこんな感じ。

```cpp
double num = 1.46;
// num の小数点以下を切り捨て
static_cast<int>(num); // => 1
// num を小数点第1位で四捨五入
static_cast<int>(num + .5); // => static_cast<int>(1.96) => 1
// num を小数点第2位で四捨五入
static_cast<int>(num * 10 + .5) / 10.;
// => static_cast<int>(15.1) / 10.
// => 15 / 10.
// => 1.5
```

これから型変換を明示するときに使うよ。